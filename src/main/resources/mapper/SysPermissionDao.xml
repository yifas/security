<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bin.project.dao.SysPermissionDao">


    <select id="findPermListInfo" resultType="com.bin.project.pojo.SysPermission">
          SELECT * FROM sys_permission;
      </select>

    <select id="findPermListTreeInner" resultType="com.bin.project.dto.SysPermissionParam">
          SELECT id,name,keyword FROM sys_permission where pid=#{pid}
      </select>

    <select id="findPermListTreeOuter" resultType="com.bin.project.dto.SysPermissionParam">
          SELECT id,name,keyword FROM sys_permission where pid=0;
      </select>

    <select id="findPermListByRoleId" resultType="com.bin.project.pojo.SysPermission">

          select
            sp.*
            from sys_role_permission srp
            LEFT JOIN sys_permission sp
            on srp.permission_id=sp.id
            where srp.role_id=#{id}

      </select>

    <!-- <delete id="delRelationByUserId" >
         DELETE FROM sys_user_role where user_id=#{id};
     </delete>

     &lt;!&ndash;批量插入到关系表&ndash;&gt;
     <insert id="insertList">
         insert into sys_user_role(user_id,role_id) values
         <foreach collection="list" separator="," item="item" index="index">
             (#{item.userId,jdbcType=BIGINT},
             #{item.roleId,jdbcType=BIGINT})
         </foreach>
     </insert>
 -->

</mapper>